{"version":3,"file":"index.js","sources":["../src/theme.ts","../node_modules/compute-scroll-into-view/dist/index.module.js","../src/use-select.ts","../src/MultiSelect.tsx"],"sourcesContent":["import { mode } from '@chakra-ui/theme-tools'\n\nconst parts = [\n  'item',\n  'selectedItem',\n  'list',\n  'textList',\n  'selectedList',\n  'actionGroup',\n  'control',\n  'input',\n  'button',\n  'groupTitle',\n  'divider',\n  'label',\n]\n\nfunction baseStyleList(props: Record<string, any>) {\n  return {\n    bg: mode(`#fff`, `gray.700`)(props),\n    boxShadow: mode(`sm`, `dark-lg`)(props),\n    color: 'inherit',\n    w: 'full',\n    py: '2',\n    zIndex: 1,\n    borderRadius: 'md',\n    borderWidth: '1px',\n    maxH: '64',\n    overflowY: 'auto',\n    overscrollBehaviorY: 'contain',\n  }\n}\n\nconst baseStyleSelectedList = {\n  d: 'flex',\n  flex: 1,\n  flexWrap: 'wrap',\n  alignItems: 'center',\n}\n\nconst baseStyleLabel = {\n  fontSize: 'md',\n  marginEnd: 3,\n  mb: 2,\n  fontWeight: 'medium',\n  transition: 'all 0.2s',\n  opacity: 1,\n  _disabled: {\n    opacity: 0.4,\n  },\n}\n\nfunction baseStyleItem(props: Record<string, any>) {\n  return {\n    cursor: 'pointer',\n    transition: 'background 50ms ease-out',\n    _focus: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n      boxShadow: 'outline',\n    },\n    _active: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n    },\n    _expanded: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n    },\n    _selected: {\n      bg: mode(`gray.100`, `whiteAlpha.300`)(props),\n    },\n    _disabled: {\n      opacity: 0.4,\n      cursor: 'not-allowed',\n    },\n  }\n}\n\nfunction baseStyleSelectedItem(props: Record<string, any>) {\n  return {\n    borderRadius: 'full',\n    variant: 'solid',\n    colorscheme: props.colorscheme,\n  }\n}\n\nfunction baseStyleButton(props: Record<string, any>) {\n  return {\n    variant: 'ghost',\n    _hover: {\n      bg: mode(`gray.200`, `whiteAlpha.300`)(props),\n    },\n    _focus: {\n      bg: mode(`gray.200`, `whiteAlpha.300`)(props),\n      boxShadow: 'outline',\n    },\n    _active: {\n      bg: mode(`gray.100`, `whiteAlpha.100`)(props),\n    },\n    colorscheme: props.colorscheme,\n  }\n}\n\nconst baseStyleControl = {\n  h: 'auto',\n  minW: 72,\n}\n\n// eslint-disable-next-line\nconst baseStyleInput = (_props: Record<string, any>) => ({\n  bgColor: 'transparent',\n  appearance: 'none',\n  flex: 1,\n  outline: 0,\n})\n\nconst baseStyleActionGroup = {\n  d: 'flex',\n  alignItems: 'center',\n}\n\nconst baseStyleGroupTitle = {\n  fontWeight: 'semibold',\n}\n\nconst baseStyleDivider = {\n  d: 'inline',\n  h: 'full',\n  border: 0,\n  borderColor: 'inherit',\n  my: 1,\n  opacity: 0.8,\n}\n\nconst baseStyle = (props: Record<string, any>) => ({\n  list: baseStyleList(props),\n  selectedList: baseStyleSelectedList,\n  item: baseStyleItem(props),\n  selectedItem: baseStyleSelectedItem(props),\n  button: baseStyleButton(props),\n  actionGroup: baseStyleActionGroup,\n  control: baseStyleControl,\n  input: baseStyleInput(props),\n  groupTitle: baseStyleGroupTitle,\n  divider: baseStyleDivider,\n  label: baseStyleLabel,\n})\n\nexport const sizes = {\n  sm: {\n    control: {\n      minH: 8,\n      px: 1,\n      spacing: 1,\n    },\n    input: {\n      m: 'px',\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    item: {\n      py: 1,\n      px: 2,\n    },\n    textList: {\n      py: 0,\n      px: 1,\n    },\n    selectedItem: {\n      m: 'px',\n    },\n    selectedList: {\n      py: 'px',\n    },\n    groupTitle: {\n      mx: 2,\n      my: 1,\n      fontSize: 'sm',\n    },\n  },\n  md: {\n    control: {\n      minH: 10,\n      px: 1,\n      spacing: 1,\n    },\n    input: {\n      m: '2px',\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    item: {\n      py: 2,\n      px: 3,\n    },\n    textList: {\n      p: 1,\n    },\n    selectedItem: {\n      m: '2px',\n    },\n    selectedList: {\n      py: '2px',\n    },\n    groupTitle: {\n      mx: 4,\n      my: 2,\n      fontSize: 'sm',\n    },\n  },\n  lg: {\n    control: {\n      minH: 12,\n      px: 2,\n      spacing: 2,\n    },\n    input: {\n      m: 1,\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    item: {\n      py: 2,\n      px: 3,\n    },\n    textList: {\n      py: 1,\n      px: 2,\n    },\n    selectedItem: {\n      m: 1,\n    },\n    selectedList: {\n      py: 1,\n    },\n    groupTitle: {\n      mx: 4,\n      my: 2,\n      fontSize: 'sm',\n    },\n  },\n}\n\nexport default {\n  defaultProps: {\n    size: 'md',\n  },\n  parts,\n  sizes,\n  baseStyle,\n}\n","function t(t){return\"object\"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||\"hidden\"!==t)&&\"visible\"!==t&&\"clip\"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}export default function(e,i){var o=window,l=i.scrollMode,d=i.block,u=i.inline,h=i.boundary,a=i.skipOverflowHiddenElements,c=\"function\"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError(\"Invalid target\");for(var f=document.scrollingElement||document.documentElement,s=[],p=e;t(p)&&c(p);){if((p=p.parentElement)===f){s.push(p);break}null!=p&&p===document.body&&n(p)&&!n(document.documentElement)||null!=p&&n(p,a)&&s.push(p)}for(var m=o.visualViewport?o.visualViewport.width:innerWidth,g=o.visualViewport?o.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,W=e.getBoundingClientRect(),b=W.height,H=W.width,y=W.top,E=W.right,M=W.bottom,V=W.left,x=\"start\"===d||\"nearest\"===d?y:\"end\"===d?M:y+b/2,I=\"center\"===u?V+H/2:\"end\"===u?E:V,C=[],T=0;T<s.length;T++){var k=s[T],B=k.getBoundingClientRect(),D=B.height,O=B.width,R=B.top,X=B.right,Y=B.bottom,L=B.left;if(\"if-needed\"===l&&y>=0&&V>=0&&M<=g&&E<=m&&y>=R&&M<=Y&&V>=L&&E<=X)return C;var S=getComputedStyle(k),j=parseInt(S.borderLeftWidth,10),q=parseInt(S.borderTopWidth,10),z=parseInt(S.borderRightWidth,10),A=parseInt(S.borderBottomWidth,10),F=0,G=0,J=\"offsetWidth\"in k?k.offsetWidth-k.clientWidth-j-z:0,K=\"offsetHeight\"in k?k.offsetHeight-k.clientHeight-q-A:0;if(f===k)F=\"start\"===d?x:\"end\"===d?x-g:\"nearest\"===d?r(v,v+g,g,q,A,v+x,v+x+b,b):x-g/2,G=\"start\"===u?I:\"center\"===u?I-m/2:\"end\"===u?I-m:r(w,w+m,m,j,z,w+I,w+I+H,H),F=Math.max(0,F+v),G=Math.max(0,G+w);else{F=\"start\"===d?x-R-q:\"end\"===d?x-Y+A+K:\"nearest\"===d?r(R,Y,D,q,A+K,x,x+b,b):x-(R+D/2)+K/2,G=\"start\"===u?I-L-j:\"center\"===u?I-(L+O/2)+J/2:\"end\"===u?I-X+z+J:r(L,X,O,j,z+J,I,I+H,H);var N=k.scrollLeft,P=k.scrollTop;x+=P-(F=Math.max(0,Math.min(P+F,k.scrollHeight-D+K))),I+=N-(G=Math.max(0,Math.min(N+G,k.scrollWidth-O+J)))}C.push({el:k,top:F,left:G})}return C}\n//# sourceMappingURL=index.module.js.map\n","import {\n  usePopper,\n  UsePopperProps,\n  UsePopperReturn,\n  useStyles,\n} from '@chakra-ui/react'\nimport { EventKeys } from '@chakra-ui/utils'\nimport { createContext, mergeRefs } from '@chakra-ui/react-utils'\nimport {\n  useEffect,\n  useRef,\n  useState,\n  useCallback,\n  useMemo,\n  MutableRefObject,\n} from 'react'\nimport computeScrollIntoView from 'compute-scroll-into-view'\n\nexport interface Option {\n  label: string\n  value: string | number\n}\n\nexport interface SelectState {\n  searchValue: string\n  resolvedSearchValue: string\n  isOpen: boolean\n  highlightedIndex: number\n}\n\ntype AnyFunc = (...args: any[]) => any\n\nexport interface KeyMeta {\n  key?: EventKeys\n  keyCode?: EventKeys\n  shift?: boolean\n  meta?: boolean\n}\n\nexport type KeyboardEventHandler = (e: KeyboardEvent) => void\n\nexport type KeyHandler = () => void\n\nexport type ScrollToIndex = (\n  index: number,\n  ref: MutableRefObject<HTMLElement | undefined>,\n  optionsRef: MutableRefObject<HTMLElement | undefined>,\n  enabledRef: MutableRefObject<boolean>\n) => void\n\nexport type GetDebounce = (options: Option[]) => number\n\nexport enum ChangeActions {\n  SingleCreate = 'singleCreate', // eslint-disable-line\n  SingleRemove = 'singleRemove', // eslint-disable-line\n  SingleSelect = 'singleSelect', // eslint-disable-line\n  SingleClear = 'singleClear', // eslint-disable-line\n  MultiCreate = 'multiCreate', // eslint-disable-line\n  MultiRemove = 'multiRemove', // eslint-disable-line\n  MultiSelect = 'multiSelect', // eslint-disable-line\n  MultiClear = 'multiClear', // eslint-disable-line\n}\n\nexport type SelectOnChange = (\n  value: string | number | Array<string | number>,\n  change?: {\n    action: ChangeActions\n    value: any\n  }\n) => void\n\nexport type GetOption = (option: string | { label: string; value: any }) => {\n  label: string\n  value: any\n}\n\nexport type SelectFilter = (\n  options: Option[],\n  searchValue: string | number,\n  getOption: GetOption\n) => Option[]\n\nexport type SelectRemoveValue = (index: number) => void\n\nexport type SelectSetOpen = (open: boolean) => void\n\nexport type SelectSetSearch = (searchValue: string) => void\n\nexport enum SelectActions {\n  SetOpen = 'setOpen', // eslint-disable-line\n  SetSearch = 'setSearch', // eslint-disable-line\n  HighlightIndex = 'highlightIndex', // eslint-disable-line\n}\n\nexport type SelectStateUpdater = (\n  updater: (old: SelectState) => SelectState,\n  action: SelectActions\n) => void\n\nexport type StateReducer = (\n  old: SelectState,\n  newState: SelectState,\n  action: SelectActions\n) => SelectState\n\nconst defaultMultiValue: any[] = []\nconst defaultOptions: Option[] = []\n\nconst initialState: SelectState = {\n  searchValue: '',\n  resolvedSearchValue: '',\n  isOpen: false,\n  highlightedIndex: 0,\n}\n\nfunction scrollIntoView(node: any, optionsNode: any) {\n  if (!node || !optionsNode) {\n    return\n  }\n  const actions = computeScrollIntoView(node, {\n    boundary: optionsNode,\n    block: 'nearest',\n    scrollMode: 'if-needed',\n  })\n  actions.forEach(({ el, top, left }) => {\n    el.scrollTop = top\n    el.scrollLeft = left\n  })\n}\nconst defaultStateReducer: StateReducer = (_, newState) => newState\nconst defaultScrollToIndex: ScrollToIndex = (\n  _,\n  inputRef,\n  optionsRef,\n  enabledRef\n) => {\n  if (enabledRef.current) {\n    scrollIntoView(inputRef.current, optionsRef.current)\n  }\n}\nexport const labelFromValue = (value: string): string =>\n  `${value.charAt(0).toUpperCase()}${value.substring(1)}`\nexport const idFromOption = (option: Option, prefix = ''): string =>\n  `${prefix}${option?.value}`\nconst defaultGetOption: GetOption = (option) =>\n  typeof option === 'string'\n    ? { value: option, label: labelFromValue(option) }\n    : option\nconst defaultGetDebounce: GetDebounce = (options) =>\n  options.length > 10000 ? 1000 : options.length > 1000 ? 200 : 0\n\nconst defaultFilterFn: SelectFilter = (options, searchValue, getOption) => {\n  return options\n    .filter((option) =>\n      getOption(option)\n        .value.toString()\n        .toLowerCase()\n        .includes(searchValue.toString().toLowerCase())\n    )\n    .sort((a) => {\n      return getOption(a)\n        .value.toString()\n        .toLowerCase()\n        .indexOf(searchValue.toString().toLowerCase())\n    })\n}\n\nfunction useDebounce(fn: AnyFunc, time = 0) {\n  const ref = useRef(null)\n  const fnRef = useRef()\n\n  fnRef.current = fn as any\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(ref.current as unknown as number)\n    }\n  }, [time])\n\n  return useCallback(\n    async (...args: any[]) => {\n      if (ref.current) {\n        clearTimeout(ref.current as unknown as number)\n      }\n      return new Promise((resolve, reject) => {\n        ref.current = setTimeout(() => {\n          ref.current = null\n          try {\n            resolve((fnRef.current as unknown as AnyFunc)(...args))\n          } catch (err) {\n            reject(err)\n          }\n        }, time) as any\n      })\n    },\n    [time]\n  )\n}\n\nfunction updateReducerState(state: any, newValue: any, key?: string): any {\n  if (!key) {\n    if (typeof newValue === 'function') {\n      return newValue(state)\n    }\n    return newValue\n  }\n  if (typeof newValue === 'function') {\n    const next = {\n      ...state,\n      [key]: newValue(state[key]),\n    }\n    return next\n  }\n  return {\n    ...state,\n    [key]: newValue,\n  }\n}\nfunction useHoistedState(\n  initialState: SelectState,\n  reducer: StateReducer\n): [SelectState, SelectStateUpdater] {\n  const reducerRef = useRef()\n  ;(reducerRef.current as any) = reducer\n  const [state, _setState] = useState(initialState)\n  const setState = useCallback(\n    (updater: (old: SelectState) => SelectState, action: SelectActions) => {\n      if (!action) {\n        throw new Error('An action type is required to update the state')\n      }\n      return _setState((old: SelectState) =>\n        (reducerRef.current as unknown as StateReducer)(\n          old,\n          updater(old),\n          action\n        )\n      )\n    },\n    [_setState]\n  )\n  return [state, setState]\n}\n\nconst useKeys = (userKeys: {\n  [K in EventKeys]: (opts: { shift: any; meta: any }, e?: any) => K | any\n}) => {\n  return ({ onKeyDown, ...rest } = {} as any) => {\n    return {\n      ...rest,\n      onKeyDown: (e: KeyboardEvent) => {\n        const { keyCode, key, shiftKey: shift, metaKey: meta } = e\n        const handler = userKeys[key] || userKeys[keyCode]\n        if (handler) {\n          handler(\n            {\n              keyCode,\n              key,\n              shift,\n              meta,\n            },\n            e\n          )\n        }\n        if (onKeyDown) {\n          onKeyDown(e)\n        }\n      },\n    }\n  }\n}\n\nexport enum SelectionVisibilityMode {\n  List = 'list',\n  Input = 'input',\n  Both = 'both',\n}\nexport interface UseMultiSelectProps {\n  value?: string | string[]\n  options: Option[]\n  onChange?: SelectOnChange\n  getOption?: GetOption\n}\nexport interface UseMultiSelectReturn {\n  value?: string | string[]\n  options: Option[]\n  onChange?: SelectOnChange\n}\nexport interface UseSelectProps extends UsePopperProps {\n  onChange: SelectOnChange\n  single?: boolean\n  create?: boolean\n  selectionVisibleIn?: SelectionVisibilityMode\n  duplicates?: boolean\n  options?: Option[]\n  value?: any\n  shiftAmount?: number\n  getOption?: GetOption\n  getDebounce?: GetDebounce\n  stateReducer?: StateReducer\n  scrollToIndex?: ScrollToIndex\n  filterFn?: SelectFilter\n}\nexport interface UseSelectReturn {\n  value: any\n  multi: boolean\n  searchValue: string\n  isOpen: boolean\n  selectedOption: Option\n  visibleOptions: Option[]\n  selectionVisibleIn: SelectionVisibilityMode\n  selectIndex: (index: number) => any\n  highlightIndex: (value: any) => any\n  highlightedValueRef: MutableRefObject<HTMLElement | undefined>\n  highlightedIndexRef: MutableRefObject<number>\n  enableScrollRef: MutableRefObject<boolean>\n  removeValue: SelectRemoveValue\n  setOpen: SelectSetOpen\n  setSearch: SelectSetSearch\n  popper: UsePopperReturn\n  getInputProps: AnyFunc\n  getOptionProps: AnyFunc\n  getOption: GetOption\n  optionsRef: MutableRefObject<any>\n  controlRef: MutableRefObject<any>\n  clearAll: () => void\n  clearable: boolean\n}\n\nconst [SelectProvider, useSelectContext] = createContext<UseSelectReturn>({\n  strict: false,\n  name: 'SelectContext',\n})\nconst [SelectInputProvider, useSelectInputContext] = createContext<\n  Pick<UseSelectReturn, 'getInputProps'>\n>({\n  strict: false,\n  name: 'SelectInputContext',\n})\nconst [SelectedProvider, useSelectedContext] = createContext<\n  Pick<UseSelectReturn, 'removeValue'>\n>({\n  strict: false,\n  name: 'SelectedContext',\n})\nconst [SelectedListProvider, useSelectedListContext] = createContext<\n  Pick<UseSelectReturn, 'value' | 'multi' | 'selectionVisibleIn'>\n>({\n  strict: false,\n  name: 'SelectedListContext',\n})\nconst [SelectActionProvider, useSelectActionContext] = createContext<\n  Pick<UseSelectReturn, 'isOpen' | 'setOpen' | 'clearable' | 'clearAll'>\n>({\n  strict: false,\n  name: 'SelectActionContext',\n})\n\nexport {\n  SelectProvider,\n  SelectInputProvider,\n  SelectedProvider,\n  SelectedListProvider,\n  SelectActionProvider,\n  useSelectContext,\n  useSelectedContext,\n  useSelectedListContext,\n  useSelectInputContext,\n  useSelectActionContext,\n}\n\nexport function useSelect({\n  create = false,\n  single = false,\n  selectionVisibleIn = SelectionVisibilityMode.Input,\n  getDebounce = defaultGetDebounce,\n  getOption = defaultGetOption,\n  stateReducer = defaultStateReducer,\n  filterFn = defaultFilterFn,\n  scrollToIndex = defaultScrollToIndex,\n  shiftAmount = 5,\n  duplicates,\n  options,\n  value,\n  onChange,\n  placement = 'bottom-start',\n}: UseSelectProps): UseSelectReturn {\n  const [\n    { searchValue, resolvedSearchValue, isOpen, highlightedIndex },\n    setState,\n  ] = useHoistedState(initialState, stateReducer)\n\n  const multi = !single\n\n  // Refs\n\n  const optionsRef = useRef()\n  const optionsItemsRef = useRef<Option[]>([])\n  const valueRef = useRef<string | Array<string>>('')\n  const inputRef = useRef()\n  const controlRef = useRef()\n  const onBlurRef = useRef({})\n  const onChangeRef = useRef()\n  const filterFnRef = useRef()\n  const scrollToIndexRef = useRef()\n  const highlightedIndexRef = useRef<number>(highlightedIndex)\n  const highlightedValueRef = useRef<HTMLElement | undefined>()\n  const enableScrollRef = useRef(false)\n\n  const popper = usePopper({\n    placement,\n  })\n\n  highlightedIndexRef.current = highlightedIndex\n  ;(filterFnRef.current as any) = filterFn\n  ;(scrollToIndexRef.current as any) = scrollToIndex\n  ;(onChangeRef.current as any) = onChange\n\n  // Multi should always at least have an empty array as the value\n  if (multi && typeof value === 'undefined') {\n    value = defaultMultiValue\n  }\n\n  // If no options are provided, then use an empty array\n  if (!options) {\n    options = defaultOptions\n  }\n\n  const originalOptions = options\n\n  // If multi and duplicates aren't allowed, filter out the\n  // selected options from the options list\n  options = useMemo(() => {\n    // if selectionVisibleIn list || both set a selected value and don't filter\n    if (selectionVisibleIn !== SelectionVisibilityMode.Input) {\n      return options?.map((d) => ({\n        ...getOption(d),\n        selected: (Array.isArray(value) ? value : [value || ''])?.some(\n          (v: any) => getOption(v).value === getOption(d).value\n        ),\n      }))\n    }\n\n    // otherwise\n    if (multi && !duplicates) {\n      return options?.filter(\n        (d) =>\n          !value?.some((v: any) => getOption(v).value === getOption(d).value)\n      )\n    }\n    return options\n  }, [options, value, duplicates, multi, getOption, selectionVisibleIn])\n\n  // Compute the currently selected option(s)\n  const selectedOption = useMemo(() => {\n    if (!multi) {\n      return (\n        originalOptions.find(\n          (d) => getOption(d).value === getOption(value).value\n        ) || getOption(value)\n      )\n    } else {\n      return value.map(\n        (val: any) =>\n          originalOptions.find(\n            (d) => getOption(d).value === getOption(val).value\n          ) || getOption(val)\n      )\n    }\n  }, [multi, value, originalOptions, getOption])\n\n  // If there is a search value, filter the options for that value\n  // This needs to be reworked to handle async loading\n  options = useMemo(() => {\n    if (resolvedSearchValue) {\n      return (filterFnRef.current as any)?.(\n        options,\n        resolvedSearchValue,\n        getOption\n      )\n    }\n    return options\n  }, [options, resolvedSearchValue, getOption])\n\n  // If in create mode and we have a search value, fabricate\n  // an option for that searchValue and prepend it to options\n  options = useMemo(() => {\n    if (create && searchValue) {\n      return [{ created: true, ...getOption(searchValue) }, ...options!]\n    }\n    return options\n  }, [create, searchValue, options, getOption])\n\n  valueRef.current = value\n  optionsItemsRef.current = options as Option[]\n\n  // Actions\n\n  const setOpen = useCallback((newIsOpen: boolean) => {\n    setState(\n      (old) => updateReducerState(old, newIsOpen, 'isOpen'),\n      SelectActions.SetOpen\n    )\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const Close = useCallback(() => {\n    setOpen(false)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const Open = useCallback(() => {\n    setOpen(true)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const setResolvedSearch = useDebounce((value) => {\n    setState(\n      (old) => updateReducerState(old, value, 'resolvedSearchValue'),\n      SelectActions.SetSearch\n    )\n  }, getDebounce(options!))\n\n  const setSearch = useCallback((value: string) => {\n    setState(\n      (old) => updateReducerState(old, value, 'searchValue'),\n      SelectActions.SetSearch\n    )\n    setResolvedSearch(value)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const highlightIndex = useCallback(\n    (value: number | ((prev: number) => number)) => {\n      const _options = optionsItemsRef.current\n      setState((old) => {\n        return {\n          ...old,\n          highlightedIndex: Math.min(\n            Math.max(\n              0,\n              typeof value === 'function' ? value(old.highlightedIndex) : value\n            ),\n            _options.length - 1\n          ),\n        }\n      }, SelectActions.HighlightIndex)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n\n  const selectIndex = useCallback(\n    (index: number) => {\n      const option = optionsItemsRef.current![index]\n      if (option) {\n        const selectedOption = getOption(option) as any\n\n        if (!multi) {\n          ;(onChangeRef.current as any)?.(selectedOption.value, {\n            action: selectedOption.created\n              ? ChangeActions.SingleCreate\n              : ChangeActions.SingleSelect,\n            value: selectedOption,\n          })\n        } else {\n          const _value = valueRef.current as Array<string>\n          if (\n            duplicates ||\n            !_value.some(\n              (v: any) => getOption(v).value === selectedOption.value\n            )\n          ) {\n            ;(onChangeRef.current as any)?.([..._value, selectedOption.value], {\n              action: selectedOption.created\n                ? ChangeActions.MultiCreate\n                : ChangeActions.MultiSelect,\n              value: selectedOption,\n            })\n          }\n        }\n      }\n\n      if (create || multi) {\n        setSearch('')\n      }\n      if (!multi) {\n        Close()\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [multi, create, duplicates, getOption]\n  )\n\n  const clearAll = useCallback(() => {\n    ;(onChangeRef.current as any)?.(multi ? [] : '', {\n      action: multi ? ChangeActions.MultiClear : ChangeActions.SingleClear,\n      value: '',\n    })\n  }, [multi])\n\n  const removeValue = useCallback(\n    (v: number | string) => {\n      const isIndex = typeof v === 'number'\n      const _multi = Array.isArray(valueRef.current)\n      const _value = (\n        _multi ? valueRef.current : [valueRef.current]\n      ) as Array<string>\n      const _next = _value.filter((_v: string, i: number) =>\n        isIndex ? i !== v : v !== _v\n      )\n      if (_multi) {\n        ;(onChangeRef.current as any)(_next, {\n          action: ChangeActions.MultiRemove,\n          value: getOption(isIndex ? _value[v] : v),\n        })\n      } else {\n        ;(onChangeRef.current as any)(_next[0] || '', {\n          action: ChangeActions.SingleRemove,\n          value: getOption(isIndex ? _value[v] : v),\n        })\n      }\n    },\n    [getOption]\n  )\n\n  // Handlers\n\n  const handleSearchValueChange = useCallback((e: any) => {\n    setSearch(e.target.value)\n    Open()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const handleSearchClick = useCallback(() => {\n    if (!create || multi) {\n      setSearch('')\n    }\n    Open()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [create, multi])\n\n  // Prop Getters\n\n  const ArrowUp =\n    (defaultShift?: any, defaultMeta?: any) =>\n    ({ shift, meta }: any, e: any) => {\n      e.preventDefault()\n      const amount =\n        defaultMeta || meta\n          ? 1000000000000\n          : defaultShift || shift\n          ? shiftAmount - 1\n          : 1\n      Open()\n      enableScrollRef.current = true\n      highlightIndex((old: number) => old - amount)\n    }\n\n  const ArrowDown =\n    (defaultShift?: any, defaultMeta?: any) =>\n    ({ shift, meta }: any, e: any) => {\n      e.preventDefault()\n      const amount =\n        defaultMeta || meta\n          ? 1000000000000\n          : defaultShift || shift\n          ? shiftAmount - 1\n          : 1\n      Open()\n      enableScrollRef.current = true\n      highlightIndex((old: number) => old + amount)\n    }\n\n  const Enter = useCallback(\n    (_: any, e: any) => {\n      if (isOpen) {\n        const _options = optionsItemsRef.current\n        if (searchValue || _options![highlightedIndexRef!.current as number]) {\n          e.preventDefault()\n        }\n        if (_options![highlightedIndexRef!.current as number]) {\n          selectIndex(highlightedIndexRef!.current as number)\n        }\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [isOpen, searchValue]\n  )\n\n  const Backspace = useCallback(() => {\n    const _value = valueRef.current\n    const lastValue = multi ? _value[_value.length - 1] : _value\n    if ((multi && !searchValue) || (!multi && lastValue)) {\n      removeValue(lastValue as string)\n      setSearch('')\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchValue, multi])\n\n  const getKeyProps = useKeys({\n    ArrowUp: ArrowUp(),\n    ArrowDown: ArrowDown(),\n    PageUp: ArrowUp(true),\n    PageDown: ArrowDown(true),\n    Home: ArrowUp(false, true),\n    End: ArrowDown(false, true),\n    Escape: Close,\n    Tab: Close,\n    Enter,\n    Backspace,\n  } as any)\n\n  const getInputProps = useCallback(\n    (\n      {\n        refKey = 'ref',\n        ref,\n        onChange,\n        onFocus,\n        onClick,\n        onBlur,\n        ...rest\n      } = {} as any\n    ) => {\n      return getKeyProps({\n        [refKey]: (el: HTMLElement) => {\n          ;(inputRef.current as any) = el\n          if (ref) {\n            ref.current = el\n          }\n        },\n        value:\n          (isOpen\n            ? searchValue || selectedOption.label\n            : selectedOption\n            ? selectedOption?.label\n            : '') || '',\n        onChange: (e: any) => {\n          handleSearchValueChange(e)\n          if (onChange) {\n            onChange(e)\n          }\n        },\n        onFocus: (e: any) => {\n          handleSearchClick()\n          if (onFocus) {\n            onFocus(e)\n          }\n        },\n        onClick: (e: any) => {\n          handleSearchClick()\n          if (onClick) {\n            onClick(e)\n          }\n        },\n        onBlur: (e: any) => {\n          if (onBlur) {\n            e.persist()\n            ;(onBlurRef.current as any).cb = onBlur\n            ;(onBlurRef.current as any).event = e\n          }\n        },\n        ...rest,\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      isOpen,\n      searchValue,\n      selectedOption,\n      handleSearchClick,\n      handleSearchValueChange,\n    ]\n  )\n\n  const getOptionProps = useCallback(\n    (\n      { index, key = index, onClick, onMouseEnter, option, ...rest } = {} as any\n    ) => {\n      if (typeof index !== 'number' || index < 0) {\n        throw new Error(\n          `useSelect: The getOptionProps prop getter requires an index property, eg. 'getOptionProps({index: 1})'`\n        )\n      }\n\n      return {\n        key,\n        option,\n        ...rest,\n        onClick: (e: any) => {\n          if (option.selected !== undefined && option.selected) {\n            removeValue(option.value)\n          } else {\n            selectIndex(index)\n          }\n          if (onClick) {\n            onClick(e)\n          }\n        },\n        onMouseEnter: (e: any) => {\n          enableScrollRef.current = false\n          highlightIndex(index)\n          if (onMouseEnter) {\n            onMouseEnter(e)\n          }\n        },\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n\n  // Effects\n\n  // When the user clicks outside of the options box or input\n  // while open, we need to close the dropdown\n  useClickOutsideRef(isOpen, Close, optionsRef!, controlRef!)\n\n  // When searching, activate the first option\n  useEffect(() => {\n    if (searchValue) {\n      highlightIndex(0)\n    }\n  }, [searchValue, highlightIndex])\n\n  // When we open and close the options, set the highlightedIndex to 0\n  useEffect(() => {\n    highlightIndex(0)\n\n    if (!isOpen && (onBlurRef.current as any)?.event) {\n      ;(onBlurRef.current as any)?.cb((onBlurRef.current as any).event)\n      ;(onBlurRef.current as any).event = null\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen])\n\n  // When the highlightedIndex changes, scroll to that item\n  useEffect(() => {\n    ;(scrollToIndexRef.current as any)?.(\n      highlightedIndex,\n      highlightedValueRef,\n      optionsRef,\n      enableScrollRef\n    )\n  }, [highlightedIndex])\n\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => {\n        ;(inputRef.current as any)?.focus()\n      })\n    }\n  }, [isOpen])\n\n  return {\n    multi,\n    clearable: multi && !!(Array.isArray(value) ? value.length > 0 : !!value),\n    clearAll,\n    optionsRef,\n    controlRef,\n    popper,\n    // State\n    value,\n    searchValue,\n    isOpen,\n    highlightedIndexRef,\n    highlightedValueRef,\n    enableScrollRef,\n    selectedOption,\n    visibleOptions: options!,\n    selectionVisibleIn,\n    // Actions\n    selectIndex,\n    removeValue,\n    setOpen,\n    setSearch,\n    highlightIndex,\n    // Prop Getters\n    getInputProps,\n    getOptionProps,\n    getOption,\n  }\n}\n\nfunction useClickOutsideRef(\n  enable: boolean,\n  fn: AnyFunc,\n  dropdownRef: MutableRefObject<any>,\n  controlRef: MutableRefObject<any>\n): void {\n  const localDropdownRef = useRef()\n  const localControlRef = useRef()\n  const fnRef = useRef()\n\n  ;(fnRef.current as any) = fn\n  const elDropdownRef =\n    dropdownRef ||\n    (localDropdownRef as unknown as MutableRefObject<HTMLElement>)\n  const elControlRef =\n    controlRef || (localControlRef as unknown as MutableRefObject<HTMLElement>)\n\n  const handle = useCallback((e: TouchEvent | MouseEvent) => {\n    const isTouch = e.type === 'touchstart'\n    if (e.type === 'click' && isTouch) {\n      return\n    }\n\n    const elControl = elControlRef.current as HTMLElement\n    const elDropdown = elDropdownRef.current as HTMLElement\n    if (\n      !(\n        elControl?.contains((e as any).target) ||\n        elDropdown?.contains((e as any).target)\n      )\n    ) {\n      ;(fnRef.current as any)(e)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    if (enable) {\n      document.addEventListener('touchstart', handle, true)\n      document.addEventListener('click', handle, true)\n    }\n\n    return () => {\n      document.removeEventListener('touchstart', handle, true)\n      document.removeEventListener('click', handle, true)\n    }\n  }, [enable, handle])\n}\n\nexport function useSelectActionGroup(props: any = {}) {\n  const { clearAll, clearable } = useSelectActionContext()\n  const styles = useStyles()\n\n  const clearOnClick = useCallback((e: MouseEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    clearAll()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return {\n    ...props,\n    clearOnClick,\n    clearable,\n    __css: styles.actionGroup,\n  }\n}\n\nexport function useSelectInput(props: any = {}) {\n  const { getInputProps } = useSelectInputContext()\n  const styles = useStyles()\n\n  return {\n    ...props,\n    ...getInputProps(),\n    __css: styles.input,\n  }\n}\nexport function useSelectLabel(props: any = {}) {\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: styles.label,\n  }\n}\n\nexport function useSelectButton(props: any = {}) {\n  const { isOpen, setOpen } = useSelectActionContext()\n  const onClick = useCallback(\n    (e: MouseEvent) => {\n      e.preventDefault()\n      e.stopPropagation()\n      ;(setOpen as any)((o: any) => !o)\n    },\n    [setOpen]\n  )\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: {\n      ...styles.button,\n      ...(isOpen && (styles.button as any))?._active,\n    },\n    isOpen,\n    onClick,\n  }\n}\n\nexport function useClearButton(props: any = {}) {\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: {\n      ...styles.button,\n    },\n  }\n}\n\nexport function useSelectedItem(props: any = {}) {\n  const { removeValue } = useSelectedContext()\n  const styles = useStyles()\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const onClick = useCallback(() => removeValue(props.value), [props.value])\n\n  return useMemo(\n    () => ({\n      key: props.key || props.value,\n      onClick,\n      __css: styles.selectedItem,\n    }),\n    [props.value, props.key, onClick, styles.selectedItem]\n  )\n}\n\nexport function useSelectItem({ selected, ...props }: any = {}) {\n  const { getOptionProps, highlightedIndexRef, highlightedValueRef } =\n    useSelectContext()\n  const styles = useStyles()\n  const highlighted = highlightedIndexRef.current === props.index\n\n  return useMemo(() => {\n    const option = {\n      value: props.value,\n      label: props.label || labelFromValue(props.value),\n      selected,\n    }\n    return {\n      ...getOptionProps!({\n        option,\n        key: props.key || idFromOption(option),\n        index: props.index,\n      }),\n      highlightedRef: highlighted ? highlightedValueRef : undefined,\n      __css: {\n        ...styles.item,\n        ...(selected && (styles.item as any))?._selected,\n        ...(highlighted && (styles.item as any))?._active,\n      },\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    highlighted,\n    selected,\n    props.key,\n    props.label,\n    props.value,\n    props.index,\n    styles.item,\n  ])\n}\n\nexport function useSelectList() {\n  const { isOpen, getOption, optionsRef, popper, visibleOptions } =\n    useSelectContext()\n  const styles = useStyles()\n\n  return useMemo(\n    () => ({\n      ref: mergeRefs(optionsRef, popper.popperRef),\n      isOpen,\n      visibleOptions,\n      getOption,\n      __css: styles.list,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [isOpen, visibleOptions, styles.list]\n  )\n}\n\nexport function useSelectedList(props: any = {}) {\n  const {\n    value: selectedItems,\n    multi,\n    selectionVisibleIn,\n  } = useSelectedListContext()\n  const styles = useStyles()\n\n  return {\n    ...props,\n    multi,\n    selectedItems,\n    selectionVisibleIn,\n    __css: styles.selectedList,\n    textList: {\n      __css: styles.textList,\n    },\n  }\n}\n\nexport function useSelectControl(props: any = {}) {\n  const { isOpen, popper, controlRef } = useSelectContext()\n  const styles = useStyles()\n\n  return {\n    ...props,\n    ...useMemo(\n      () => ({\n        ref: mergeRefs(props.ref, controlRef, popper.referenceRef),\n      }),\n      [props.ref, controlRef, popper.referenceRef]\n    ),\n    isOpen,\n    __css: styles.control,\n  }\n}\n\nexport function useMultiSelect(\n  props: UseMultiSelectProps = {} as UseMultiSelectProps\n): UseMultiSelectReturn {\n  const getOption = props.getOption || defaultGetOption\n  const [value, setValue] = useState(props.value)\n  const [options, setOptions] = useState<Option[]>(() =>\n    props.options.map(getOption)\n  )\n  const onChange = useCallback<SelectOnChange>(\n    (next, change) => {\n      switch (change?.action) {\n        case ChangeActions.SingleCreate:\n          setValue(next as string)\n          setOptions((o) => {\n            const opt = getOption(next as any)\n            return o.some((_o) => getOption(_o).value === opt.value)\n              ? o\n              : [{ ...opt, created: true }, ...o]\n          })\n          break\n        case ChangeActions.SingleClear:\n        case ChangeActions.SingleRemove:\n          setValue(next as string)\n          break\n        case ChangeActions.SingleSelect:\n          setValue(next as string)\n          break\n        case ChangeActions.MultiCreate:\n          const nextValue = next as string[]\n          const created = next[nextValue.length - 1]\n          setValue(nextValue)\n          setOptions((o) => {\n            const opt = getOption(created as any)\n            return o.some((_o) => getOption(_o).value === opt.value)\n              ? o\n              : [{ ...opt, created: true }, ...o]\n          })\n          break\n        case ChangeActions.MultiClear:\n        case ChangeActions.MultiRemove:\n          setValue(next as string[])\n          break\n        case ChangeActions.MultiSelect:\n        default:\n          setValue(next as string[])\n      }\n    },\n    [setValue, setOptions, getOption]\n  )\n\n  return {\n    value,\n    options,\n    onChange,\n  }\n}\n","import {\n  HTMLChakraProps,\n  Input,\n  Box,\n  IconButton,\n  chakra,\n  HStack,\n  omitThemingProps,\n  useMultiStyleConfig,\n  StylesProvider,\n  forwardRef,\n  Tag,\n  TagLabel,\n  TagCloseButton,\n  TagProps,\n  StackProps,\n  useStyles,\n  BoxProps,\n  IconButtonProps,\n} from '@chakra-ui/react'\nimport { FC, memo, ReactNode, useCallback, useMemo } from 'react'\nimport {\n  SelectProvider,\n  useSelect,\n  useSelectButton,\n  useSelectActionGroup,\n  useSelectControl,\n  useSelectInput,\n  useSelectedItem,\n  useSelectItem,\n  useSelectLabel,\n  useSelectList,\n  useSelectedList,\n  UseSelectProps,\n  idFromOption,\n  labelFromValue,\n  SelectedProvider,\n  SelectInputProvider,\n  SelectedListProvider,\n  SelectActionProvider,\n  SelectionVisibilityMode,\n  useClearButton,\n} from './use-select'\n\n// @see https://github.com/chakra-ui/chakra-ui/issues/140\n\nexport interface SelectItem {\n  value: any\n  label?: string\n}\n\nexport interface SelectProps\n  extends Omit<\n      HTMLChakraProps<'select'>,\n      'value' | 'size' | 'onChange' | 'onSelect' | 'children'\n    >,\n    UseSelectProps {\n  label?: string\n  children?: ReactNode\n}\n\nexport interface SelectControlProps\n  extends Omit<HTMLChakraProps<'select'>, 'size'> {\n  defaultIsOpen?: boolean\n  isLazy?: true\n  closeOnSelect?: false\n  children?: ReactNode\n}\n\nexport type SelectListProps = HTMLChakraProps<'ul'>\nexport type SelectedListProps = BoxProps\nexport type SelectLabelProps = HTMLChakraProps<'label'>\nexport interface SelectActionGroupProps extends StackProps {\n  clearButtonProps?: IconButtonProps\n  toggleButtonProps?: IconButtonProps\n}\n\nexport interface SelectOptionItemProps extends HTMLChakraProps<'li'> {\n  highlighted?: boolean\n  label?: string\n  index: number\n  selected?: boolean\n  created?: boolean\n}\n\nexport interface SelectedItemProps extends TagProps, SelectItem {}\n\nexport interface MultiSelectProps extends Omit<SelectProps, 'children'> {\n  children?: ReactNode\n  labelProps?: SelectLabelProps\n  controlProps?: SelectControlProps\n  listProps?: SelectListProps\n  selectedListProps?: SelectedListProps\n  actionGroupProps?: SelectActionGroupProps\n}\n\nexport const ChakraSvg = chakra('svg')\n\nexport const Select = memo<SelectProps>((props) => {\n  const { children } = props\n\n  const styles = useMultiStyleConfig('MultiSelect', props)\n  const ownProps = omitThemingProps(props as any)\n\n  const ctx = useSelect(ownProps as any)\n  const context = useMemo(() => ctx, [ctx])\n  const selectInputContext = useMemo(\n    () => ({ getInputProps: ctx.getInputProps }),\n    [ctx.getInputProps]\n  )\n  const selectedContext = useMemo(\n    () => ({ removeValue: ctx.removeValue }),\n    [ctx.removeValue]\n  )\n  const selectedListContext = useMemo(\n    () => ({\n      value: ctx.value,\n      multi: ctx.multi,\n      selectionVisibleIn: ctx.selectionVisibleIn,\n    }),\n    [ctx.value, ctx.multi, ctx.selectionVisibleIn]\n  )\n  const selectActionContext = useMemo(\n    () => ({\n      isOpen: ctx.isOpen,\n      setOpen: ctx.setOpen,\n      clearable: ctx.clearable,\n      clearAll: ctx.clearAll,\n    }),\n    [ctx.isOpen, ctx.setOpen, ctx.clearable, ctx.clearAll]\n  )\n\n  return (\n    <StylesProvider value={styles}>\n      <SelectProvider value={context}>\n        <SelectInputProvider value={selectInputContext}>\n          <SelectedListProvider value={selectedListContext}>\n            <SelectedProvider value={selectedContext}>\n              <SelectActionProvider value={selectActionContext}>\n                <chakra.div pos='relative'>{children}</chakra.div>\n              </SelectActionProvider>\n            </SelectedProvider>\n          </SelectedListProvider>\n        </SelectInputProvider>\n      </SelectProvider>\n    </StylesProvider>\n  )\n})\nSelect.displayName = 'Select'\n\nexport const SelectLabel = memo<SelectLabelProps>((props) => {\n  const labelProps = useSelectLabel()\n\n  return <chakra.label {...props} {...labelProps} />\n})\nSelectLabel.displayName = 'SelectLabel'\n\nexport const SelectOptionLabel = memo<\n  StackProps & { label: string; created?: boolean }\n>(({ label, created }) => (\n  <HStack justifyContent='space-between' w='full' role='list'>\n    <Box>{label}</Box>\n    {!!created && (\n      <Tag flexShrink={0}>\n        <TagLabel fontSize='xs' fontWeight='bold' role='listitem'>\n          New\n        </TagLabel>\n      </Tag>\n    )}\n  </HStack>\n))\nSelectOptionLabel.displayName = 'SelectOptionLabel'\n\nexport const SelectOptionItem = memo<SelectOptionItemProps>(\n  ({ value, label, index, selected, created, ...props }) => {\n    const { highlightedRef, option, ...itemProps } = useSelectItem({\n      value,\n      label,\n      index,\n      selected,\n    })\n\n    return (\n      <chakra.li\n        ref={highlightedRef && highlightedRef}\n        role='option'\n        {...(selected && { 'aria-selected': selected })}\n        {...props}\n        {...itemProps}\n      >\n        <SelectOptionLabel label={option?.label || value} created={!!created} />\n      </chakra.li>\n    )\n  }\n)\nSelectOptionItem.displayName = 'SelectOptionItem'\n\nexport const EmptySelectResults = memo<{ label?: string }>(\n  ({ label = 'No results found' }) => {\n    const styles = useStyles()\n    return (\n      <chakra.li __css={styles.item}>\n        <SelectOptionLabel label={label} />\n      </chakra.li>\n    )\n  }\n)\nEmptySelectResults.displayName = 'EmptySelectResults'\n\nexport const SelectList = memo<SelectListProps>((props) => {\n  const {\n    __css,\n    visibleOptions,\n    isOpen,\n    getOption,\n    ref: listRef,\n    ...listProps\n  } = useSelectList()\n\n  const dropdownVisible = isOpen\n  const optionItemProps = useCallback((option: string, index: number) => {\n    const optionItem = getOption(option) as any\n    return {\n      key: optionItem.id || idFromOption(optionItem, 'option-'),\n      value: optionItem.value,\n      label: optionItem.label || labelFromValue(optionItem.value),\n      selected: optionItem.selected,\n      created: optionItem.created,\n      index,\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <chakra.ul\n      ref={listRef}\n      __css={useMemo(\n        () => ({\n          listStyle: 'none',\n          position: 'absolute',\n          ...(!dropdownVisible && { display: 'none' }),\n          ...__css,\n        }),\n        [dropdownVisible, __css]\n      )}\n      aria-orientation='vertical'\n      role='listbox'\n      {...listProps}\n      {...props}\n    >\n      {dropdownVisible && visibleOptions.length > 0 ? (\n        visibleOptions.map((item: any, index: number) => {\n          const { key: itemKey, ...restItemProps } = optionItemProps(\n            item,\n            index\n          )\n          return <SelectOptionItem key={itemKey} {...restItemProps} />\n        })\n      ) : (\n        <EmptySelectResults />\n      )}\n    </chakra.ul>\n  )\n})\nSelectList.displayName = 'SelectList'\n\nconst SelectToggleIcon: FC<HTMLChakraProps<'svg'> & { isActive?: boolean }> = ({\n  isActive,\n  width = 4,\n  height = 4,\n  __css,\n  ...props\n}) => (\n  <ChakraSvg\n    viewBox='0 0 24 24'\n    stroke='currentColor'\n    fill='none'\n    width={width}\n    height={height}\n    __css={{\n      ...__css,\n      ...(isActive && ((__css as any)?._active as any)),\n    }}\n    {...props}\n  >\n    <path\n      strokeLinecap='round'\n      strokeLinejoin='round'\n      strokeWidth='2'\n      d='M19 9l-7 7-7-7'\n    />\n  </ChakraSvg>\n)\n\nconst SelectClearIcon: FC<HTMLChakraProps<'svg'> & { isActive?: boolean }> = ({\n  width = 4,\n  height = 4,\n  ...props\n}) => (\n  <ChakraSvg\n    viewBox='0 0 24 24'\n    stroke='currentColor'\n    fill='none'\n    width={width}\n    height={height}\n    {...props}\n  >\n    <path\n      strokeLinecap='round'\n      strokeLinejoin='round'\n      strokeWidth='2'\n      d='M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z'\n    />\n  </ChakraSvg>\n)\n\nexport const SelectInput = memo((props) => {\n  const inputProps = useSelectInput(props)\n\n  return <chakra.input {...inputProps} />\n})\nSelectInput.displayName = 'SelectInput'\n\nexport const SelectedItem = memo<SelectedItemProps>(({ value, ...props }) => {\n  const { onClick, __css, ...itemProps } = useSelectedItem({\n    value,\n    ...props,\n  })\n\n  return (\n    <Tag {...(__css as any)} {...itemProps}>\n      <TagLabel>{value}</TagLabel>\n      <TagCloseButton onClick={onClick} />\n    </Tag>\n  )\n})\nSelectedItem.displayName = 'SelectedItem'\n\nexport const SelectToggleButton = memo<IconButtonProps>((props) => {\n  const {\n    __css,\n    size = 'sm',\n    ariaLabel = 'toggle menu',\n    icon: Icon = SelectToggleIcon,\n    isOpen,\n    ...buttonProps\n  } = useSelectButton(props)\n\n  return (\n    <IconButton\n      tabIndex={0}\n      size={size}\n      aria-label={ariaLabel}\n      aria-haspopup={true}\n      aria-expanded={isOpen}\n      icon={\n        <Icon\n          isActive={isOpen}\n          __css={{\n            transitionDuration: '200ms',\n            transitionProperty: 'transform',\n            _active: { transform: 'rotate(180deg)' },\n          }}\n        />\n      }\n      {...__css}\n      {...buttonProps}\n    />\n  )\n})\nSelectToggleButton.displayName = 'SelectToggleButton'\n\nexport const SelectClearButton = memo<IconButtonProps>((props) => {\n  const {\n    __css,\n    size = 'sm',\n    ariaLabel = 'clear all selected',\n    icon: Icon = SelectClearIcon,\n    ...buttonProps\n  } = useClearButton(props)\n\n  return (\n    <IconButton\n      tabIndex={0}\n      size={size}\n      aria-label={ariaLabel}\n      icon={<Icon />}\n      {...__css}\n      {...buttonProps}\n    />\n  )\n})\nSelectClearButton.displayName = 'SelectClearButton'\n\nexport const SelectedList = memo<SelectedListProps>(\n  ({ children, ...props }) => {\n    const {\n      __css,\n      textList,\n      selectedItems,\n      multi,\n      selectionVisibleIn,\n      ...selectedListProps\n    } = useSelectedList(props)\n\n    return (\n      <Box {...__css} {...selectedListProps}>\n        {multi && // Both || Input\n          selectionVisibleIn !== SelectionVisibilityMode.List &&\n          selectedItems?.map((selectedItem: any) => (\n            <SelectedItem\n              key={`selected-item-${selectedItem}`}\n              value={selectedItem}\n            />\n          ))}\n        {multi && // List only\n          selectionVisibleIn === SelectionVisibilityMode.List &&\n          !!selectedItems?.length && (\n            <Box {...textList?.__css}>{selectedItems?.join(', ')}</Box>\n          )}\n        {children}\n      </Box>\n    )\n  }\n)\nSelectedList.displayName = 'SelectedList'\n\nexport const SelectActionGroup = memo<SelectActionGroupProps>((props) => {\n  const {\n    __css,\n    clearable,\n    clearOnClick,\n    clearButtonProps,\n    toggleButtonProps,\n    ...toggleActionProps\n  } = useSelectActionGroup(props)\n\n  return (\n    <HStack {...__css} {...toggleActionProps}>\n      {clearable && (\n        <SelectClearButton onClick={clearOnClick} {...clearButtonProps} />\n      )}\n      <SelectToggleButton {...toggleButtonProps} />\n    </HStack>\n  )\n})\nSelectActionGroup.displayName = 'SelectActionGroup'\n\nexport const SelectControl = forwardRef<SelectControlProps, 'div'>(\n  ({ children, ...props }, ref) => {\n    const { ref: controlRef, __css } = useSelectControl({ ref })\n\n    return (\n      <Input ref={controlRef} as={HStack} {...__css} {...props}>\n        {children}\n      </Input>\n    )\n  }\n)\n\nexport const MultiSelect: FC<MultiSelectProps> = ({\n  label,\n  labelProps,\n  controlProps,\n  listProps,\n  selectedListProps,\n  actionGroupProps,\n  ...props\n}) => {\n  return (\n    <Select {...props}>\n      {label && <SelectLabel {...labelProps}>{label}</SelectLabel>}\n      <SelectControl {...controlProps}>\n        <SelectedList {...selectedListProps}>\n          <SelectInput />\n        </SelectedList>\n        <SelectActionGroup {...actionGroupProps} />\n      </SelectControl>\n      <SelectList {...listProps} />\n    </Select>\n  )\n}\n"],"names":["props","bg","mode","boxShadow","color","w","py","zIndex","borderRadius","borderWidth","maxH","overflowY","overscrollBehaviorY","d","flex","flexWrap","alignItems","fontSize","marginEnd","mb","fontWeight","transition","opacity","_disabled","baseStyleItem","cursor","_focus","_active","_expanded","_selected","variant","colorscheme","baseStyleButton","_hover","h","minW","baseStyleGroupTitle","baseStyleDivider","border","borderColor","my","defaultProps","size","parts","sizes","sm","control","minH","px","spacing","input","m","actionGroup","item","textList","selectedItem","selectedList","groupTitle","mx","md","p","lg","baseStyle","list","baseStyleList","baseStyleSelectedList","baseStyleSelectedItem","button","baseStyleActionGroup","baseStyleControl","bgColor","appearance","outline","divider","label","baseStyleLabel","t","nodeType","e","n","clientHeight","scrollHeight","clientWidth","scrollWidth","r","getComputedStyle","overflowX","ownerDocument","defaultView","frameElement","i","o","l","ChangeActions","SelectActions","_excluded","_excluded2","_excluded3","_excluded4","SelectionVisibilityMode","defaultMultiValue","initialState","searchValue","resolvedSearchValue","isOpen","highlightedIndex","defaultStateReducer","_","newState","inputRef","optionsRef","enabledRef","current","node","optionsNode","actions","window","scrollMode","block","u","inline","boundary","a","skipOverflowHiddenElements","c","TypeError","f","document","scrollingElement","documentElement","s","parentElement","push","body","visualViewport","width","innerWidth","g","height","innerHeight","scrollX","pageXOffset","v","scrollY","pageYOffset","W","getBoundingClientRect","b","H","y","top","E","right","M","bottom","V","left","x","I","C","T","length","k","B","D","O","R","X","Y","L","S","j","parseInt","borderLeftWidth","q","borderTopWidth","z","borderRightWidth","A","borderBottomWidth","F","G","J","offsetWidth","K","offsetHeight","Math","max","N","scrollLeft","P","scrollTop","min","el","computeScrollIntoView","forEach","_ref","scrollIntoView","labelFromValue","value","charAt","toUpperCase","substring","idFromOption","option","prefix","defaultGetOption","defaultGetDebounce","options","defaultFilterFn","getOption","filter","toString","toLowerCase","includes","sort","indexOf","updateReducerState","state","newValue","key","_extends3","_extends2","_extends","createContext","strict","name","SelectProvider","useSelectContext","_createContext","_createContext2","SelectInputProvider","useSelectInputContext","SelectedProvider","_createContext3","useSelectedContext","SelectedListProvider","useSelectedListContext","_createContext4","_createContext5","SelectActionProvider","useSelectActionContext","useSelect","_ref3","create","_ref3$create","_ref3$single","single","_ref3$selectionVisibl","selectionVisibleIn","Input","getDebounce","stateReducer","_ref3$filterFn","filterFn","_ref3$scrollToIndex","scrollToIndex","defaultScrollToIndex","_ref3$shiftAmount","shiftAmount","duplicates","onChange","placement","_ref3$placement","_useHoistedState","reducer","reducerRef","useRef","useState","_setState","_useState","useCallback","updater","action","Error","old","useHoistedState","_ref3$stateReducer","_useHoistedState$","setState","multi","optionsItemsRef","valueRef","controlRef","onBlurRef","filterFnRef","scrollToIndexRef","highlightedIndexRef","highlightedValueRef","enableScrollRef","popper","usePopper","onChangeRef","defaultOptions","originalOptions","useMemo","_options2","_options3","map","selected","_ref4","Array","isArray","some","_value2","selectedOption","val","find","created","concat","userKeys","setOpen","newIsOpen","SetOpen","Close","Open","setResolvedSearch","fn","time","fnRef","SetSearch","useEffect","clearTimeout","ref","_arguments","arguments","Promise","resolve","reject","setTimeout","apply","slice","call","err","useDebounce","setSearch","highlightIndex","_options","HighlightIndex","selectIndex","index","_selectedOption","_value","MultiCreate","MultiSelect","SingleCreate","SingleSelect","clearAll","MultiClear","SingleClear","removeValue","isIndex","_multi","_next","_v","MultiRemove","SingleRemove","handleSearchValueChange","target","handleSearchClick","ArrowUp","defaultShift","defaultMeta","shift","meta","preventDefault","amount","ArrowDown","Enter","Backspace","lastValue","getKeyProps","PageUp","PageDown","Home","End","Escape","Tab","_temp","_ref2","onKeyDown","_objectWithoutPropertiesLoose","keyCode","handler","shiftKey","metaKey","getInputProps","_temp2","_extends4","_ref7","_ref7$refKey","refKey","onFocus","onClick","onBlur","rest","persist","cb","event","getOptionProps","_temp3","_ref8","_ref8$key","onMouseEnter","undefined","enable","dropdownRef","localDropdownRef","elDropdownRef","elControlRef","localControlRef","handle","type","elControl","elDropdown","contains","addEventListener","removeEventListener","useClickOutsideRef","_onBlurRef$current2","_onBlurRef$current","_inputRef$current","focus","clearable","visibleOptions","useSelectActionGroup","_useSelectActionConte","styles","useStyles","clearOnClick","stopPropagation","__css","useSelectInput","useSelectLabel","useSelectButton","_useSelectActionConte2","_ref9","useClearButton","useSelectedItem","useSelectItem","_temp4","_ref10","highlighted","_ref11","_ref12","highlightedRef","_useSelectContext2","mergeRefs","popperRef","useSelectedList","selectedItems","_useSelectedListConte","useSelectControl","_useSelectContext3","referenceRef","ChakraSvg","chakra","Select","memo","children","useMultiStyleConfig","ctx","omitThemingProps","context","selectInputContext","selectedContext","selectedListContext","selectActionContext","_jsx","StylesProvider","jsx","div","pos","displayName","SelectLabel","labelProps","SelectOptionLabel","_jsxs","jsxs","HStack","justifyContent","role","Box","Tag","flexShrink","TagLabel","SelectOptionItem","_useSelectItem","itemProps","li","EmptySelectResults","_ref3$label","SelectList","_useSelectList","useSelectList","listRef","listProps","dropdownVisible","optionItemProps","optionItem","id","ul","listStyle","position","display","itemKey","_optionItemProps","restItemProps","SelectToggleIcon","isActive","_ref4$width","_ref4$height","_excluded5","viewBox","stroke","fill","strokeLinecap","strokeLinejoin","strokeWidth","SelectClearIcon","_ref5","_ref5$width","_ref5$height","_excluded6","SelectInput","inputProps","SelectedItem","_useSelectedItem","_excluded8","TagCloseButton","SelectToggleButton","_useSelectButton$size","_useSelectButton$aria","_useSelectButton","ariaLabel","icon","Icon","_useSelectButton$icon","buttonProps","_excluded9","IconButton","tabIndex","transitionDuration","transitionProperty","transform","SelectClearButton","_useClearButton","_useClearButton$size","_useClearButton$ariaL","_useClearButton$icon","_excluded10","SelectedList","_useSelectedList","_excluded11","selectedListProps","_excluded12","List","join","SelectActionGroup","_useSelectActionGroup","clearButtonProps","toggleButtonProps","toggleActionProps","_excluded13","SelectControl","forwardRef","_excluded14","_useSelectControl","as","controlProps","actionGroupProps","_excluded15","_useState2","setValue","setOptions","_useState3","next","change","opt","_o"],"mappings":"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"}